- Components
  collapsed:: true
	- Indexing
		- Load
			- Document, web page
		- Split, chunk
		- Store
			- Embedding
			- Vector store
				- frameworks
					- QDrant
					- c
	- Retrieval
		- Query anallysis
		- Information retrieval
	- Generation
- ## Techniques
  collapsed:: true
	- Re-ranking
		- when using top-k, not always that the first scored document is the "best-fit", so a re-ranking model come in
		- models: bge-reranker, jina-reranker
		- DS: MS MACRO
	- Context filtering/selection:
		- TF-IDF, embedding similarity to select top-N parts
		- use MMR (maximum marginal relavance) to remove duplicated
	- Multi-query retrieval
		- generate more queries than just user question
	- Recursive retrieval
	- Smart chunking
	- Chunk size tuning
	- Metadata filtering
	- Hybrid search:
		- searching for **vector** and **keyword**
- ## Vector distance
	- Euclidean distance
		- **How far apart two vectors** are by drawing a straight line from vector one to the other
	- Cosine similarity
		- Similarity in the **direction (rotation angle)** of 2 vectors, regardless of whether they're close to one another in space
		- -1: opposite direction
		- 0: perpendicular
		- 1: same direction
	- Dot product
		- Measures **the length of the projection** of one vector onto another.
		- Negative: opposite direction
		- 0: perpendicular
		- positive: same direction
- ## Retrieval
	- ### Searching algorithms
	  collapsed:: true
		- Approximate nearest neighbors algorithms
		- ### Navigable Small World
			- Compute distances between all document vectors
			- Add one node to the graph for each document
			- Connect each node to its nearest neighbors
			- Can traverse the graph moving along edges between neighboring documents
			- May not find closest possible vectors, algorithm doesn’t pick optimal
			  overall path, **just best path in each moment**
		- **Hierarchical Navigable Small World (HNSW)**
			- speed up early parts of the search
			- Relies on a hierarchical proximity graph
			- At each layer of reduction, build a **new proximity graph** of intermediate navigation
	- ### Chunking
	  collapsed:: true
		- fixed size chunking
		- overlap chunking
		- **Semantic chunking**
			- Embedding whole document sentence by sentence (or paragraph)
			- Group adjacent sentence/paragraphs by similarity
	- ### Query parsing
		- Query Rewriting
		- Named Entity Recognition
		- Hypothetical Document Embeddings (HyDE)
			- Uses **generated “hypothetical documents”** that would be ideal search results to help with the search process
			- HyDE means the retriever is matching documents to
			  documents, one is the “perfect” hypothetical one generated
			  from the prom
	- ### Reranking
		- Reranking engine
			- [[Cross encoder]] rerankers
				- give better results than [[bi-encoder]] but **are slow**
				- Using cross-encoders **only after initial bi-encoder filtering** makes the quality-time tradeoff feasible.
			- LLM scoring
- ## Generation
  collapsed:: true
	- Sampling strategies
		- Temparature
			- Shape the next token distribution by adding temperature to divisor
		- Top-K
			- Pick only from K most likely tokens, ignore rest
		- Top-P
			- pick from tokens whose cumulative probability is below some threshold
		- Repetition penalty
			- Reduce probability of picking seen token
	- Hallucination mitigation
		- Citation Generation
			- Instruct LLM to cite resources after each sentence
- ## Evaluation strategies
	- ### Triad
		- Context relevance
			- Are **retrieved docs** relevant to query
			- Typical sub-metrics:
				- **Recall@K** – Are relevant passages included in the top-K retrieved?
				- **Precision@K** – Are retrieved passages actually relevant?
				- **MMR / Diversity** – Does retrieval avoid redundancy?
				- **Retrieval Coverage** – How much of the answer-supporting evidence is captured?
		- Groundedness/Faithfulness
			- Is the answer supported by the context
		- Answer relevance
			- Does the answer directly address the query
- ## Framework
  collapsed:: true
	- Retrieval
		- Weaviate
			- support hybrid search: HNSW + BM25
-
- ## Helpful repos
	- Practices
		- https://github.com/NirDiamant/RAG_Techniques
		-
