- [[langgraph]]
- to make graph retain memory, use persistence (checkpoint)
- State
	- to manage state schema at runtime, implement the state schema using Pydantic instead of TypedDict, @dataclass
	- state reducer
		- how to manage state updates: keep k latest messages/messages merging
- Long history handle:
	- add **filter node** to retains part of messages history
	- trim messages: `from langchain_core.messages import trim_messages`
- Persistence data with sqlite